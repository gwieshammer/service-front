<div class="row">
  <div class="col-8">
    <b>-</b> &nbsp;
    <span *ngIf="item.done == false">
                <span name="item" class="custom-a" (click)="openItem(item.id)">{{item.name}}</span>
              </span>
    <span *ngIf="item.done == true">
                <span name="item" class="custom-done" (click)="updateTodoItem(item.id)"><s [innerHTML]="item.name"></s></span>
              </span>
    <div class="mb-2 ml-4" id="{{item.name}}" *ngIf="displayItem && display_item_id == item.id">
      <span class="" *ngIf="item.done == false">
        <small><a (click)='updateTodoItem(item.id)'>done</a></small>
      </span>
        <span class="ml-2" *ngIf="item.done == true">
        <small><a (click)='updateTodoItem(item.id)'>undo</a></small>
      </span>
        <span class="ml-2">
        <small *ngIf="itemDescriptions < 1"><a (click)="addDescription(item.id)">description</a></small>
      </span>
      <div class="mb-1 mt-1" *ngFor="let description of itemDescriptions">
        <div *ngIf="!displayUpdateDescription">
          <div>
            <div [innerHtml]="description.text" style="white-space:pre-wrap;"></div>
          </div>
          <div>
            <small>
              <a (click)="editDescription(description, item.id)">edit</a>
            </small>
          </div>
        </div>
        <div *ngIf="displayUpdateDescription && update_description_id == description.id">
          <app-edit-description [todo_id]="todo_id" [item]="item" [description]="description"></app-edit-description>
        </div>
      </div>
      <div class="mb-1 ml-2" *ngIf="displayDescription && description_id == item.id">
        <form [formGroup]="descriptionForm" (ngSubmit)="onDescriptionSubmit(item.id)">
          <div class="form-group">
                  <textarea class="form-control" formControlName="description" cols="40" autoResize="autoResize"
                            placeholder="new description"
                            [ngClass]="{ 'is-invalid': submitted && d.description.errors }">
                  </textarea>
            <img *ngIf="loading"
                 src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="/>
          </div>
          <div *ngIf="submitted && d.description.errors" class="invalid-feedback">
            <div *ngIf="d.description.errors.required">
              <small>description is required</small>
            </div>
          </div>
          <button [disabled]="loading" class="btn btn-outline-info">Hopp</button>
        </form>
      </div>
      <app-add-item-due-date [todo_id]="todo_id" [item]="item"></app-add-item-due-date>

    </div>
  </div>
  <div class="col-2">
    <small *ngIf="item.done == false">open</small>
    <small *ngIf="item.done == true">done</small>
  </div>
  <div class="col-2">
    <span (click)="deleteItem(item.id)" title="delete"><i class="fa fa-trash" *ngIf="item.done == true"></i></span>
  </div>
</div>
